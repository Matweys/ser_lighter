# ==========================================
# FUTURES BOT - MULTI-ACCOUNT CONFIGURATION
# ==========================================

# --- DATABASE ---
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/futures_bot

# --- REDIS ---
REDIS_URL=redis://localhost:6379/0

# --- TELEGRAM ---
TELEGRAM_TOKEN=your_telegram_bot_token_here
ADMIN_IDS=123456789,987654321

# --- ENCRYPTION ---
# Ключ для шифрования API ключей в базе данных (сгенерируйте криптографически стойкий ключ)
ENCRYPTION_KEY=your_32_character_encryption_key_here

# --- BYBIT API KEYS (Multi-Account Support) ---

# PRIMARY Account (Bot 1) - ОБЯЗАТЕЛЬНО
BYBIT_API_KEY=your_primary_api_key_here
BYBIT_SECRET_KEY=your_primary_secret_key_here

# SECONDARY Account (Bot 2) - ОПЦИОНАЛЬНО (для Multi-Account режима)
BYBIT_API_KEY_SECONDARY=your_secondary_api_key_here
BYBIT_SECRET_KEY_SECONDARY=your_secondary_secret_key_here

# TERTIARY Account (Bot 3) - ОПЦИОНАЛЬНО (для Multi-Account режима)
BYBIT_API_KEY_TERTIARY=your_tertiary_api_key_here
BYBIT_SECRET_KEY_TERTIARY=your_tertiary_secret_key_here

# Bybit Settings
BYBIT_DEMO=false
BYBIT_BASE_URL=https://api.bybit.com
BYBIT_DEFAULT_LEVERAGE=5

# --- ENVIRONMENT ---
ENVIRONMENT=production

# ==========================================
# MULTI-ACCOUNT РЕЖИМ - КАК ЭТО РАБОТАЕТ
# ==========================================
#
# 1. Если указан ТОЛЬКО PRIMARY ключ:
#    - Бот работает в обычном режиме (1 аккаунт)
#    - Пользователи могут добавить свои ключи через Telegram UI
#
# 2. Если указаны ВСЕ 3 набора ключей (PRIMARY + SECONDARY + TERTIARY):
#    - Автоматически активируется Multi-Account режим для ADMIN пользователей
#    - Coordinator автоматически управляет ротацией 3 ботов
#    - Бот 1 (PRIMARY) торгует по умолчанию
#    - Бот 2 (SECONDARY) активируется если Бот 1 застрял (PnL < -10%)
#    - Бот 3 (TERTIARY) активируется если Бот 2 тоже застрял
#
# ВАЖНО:
# - Эти ключи используются ТОЛЬКО для admin пользователей из ADMIN_IDS
# - Обычные пользователи добавляют свои ключи через Telegram интерфейс (/api_keys)
# - Каждый набор ключей должен быть от ОТДЕЛЬНОГО Bybit аккаунта
# - Все 3 аккаунта торгуют одновременно на ОДНОМ символе для диверсификации риска
#
# ==========================================